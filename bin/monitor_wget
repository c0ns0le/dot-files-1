#!/bin/bash

monitor_wget () {
  while [[ $(grep -l 'saved' wget-log* | wc -l) -lt $(ls -1 wget-log* | wc -l) ]]
  do
    for a in wget-log*
    do
      echo "$(tail "$a" | grep -o '[0-9][0-9.]*%.*' | tail -1)  $(grep 'Saving to' "$a")"
    done
    sleep 3
    echo
  done

  say 'downloads complete'
  rm -i wget-log*
}

monitor_wget

